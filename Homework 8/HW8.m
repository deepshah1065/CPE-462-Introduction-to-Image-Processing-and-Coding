fid = fopen('lenna.256','r');
x = fread(fid,[256,256],'uchar');
x1= x(1:8,1:8);

% Manually override x1 
x1 = [
    137 137 138 133 129 131 131 131;
    136 136 133 133 133 133 130 132;
    133 133 134 133 130 130 130 130;
    136 136 134 133 130 130 130 130;
    138 138 136 134 133 132 132 131;
    134 134 132 133 131 131 131 131;
    134 134 130 128 132 130 128 130;
    132 132 130 125 128 130 130 128
];

fclose(fid);

%Apply 2D DCT
x1dct =dct2(x1);
display(x1dct);

% JPEG standard luminance quantization matrix
q = [
    16 11 10 16 24  40  51  61;
    12 12 14 19 26  58  60  55;
    14 13 16 24 40  57  69  56;
    18 17 22 29 51  87  80  62;
    18 22 37 56 68 109 103  77;
    24 35 55 64 81 104 113  92;
    49 64 78 87 103 121 120 101;
    72 92 95 98 112 100 103  99
];

x1dctq1 = round(x1dct./q);
display(x1dctq1);

x1dctq2 = round(x1dct./(0.1*q));
display(x1dctq2);


